<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Vibe Coding</title>
<style>
  body, html {
    margin: 0;
    height: 100%;
    font-family: 'Segoe UI', sans-serif;
    background: radial-gradient(circle at bottom, #1b2735 0%, #090a0f 100%);
    color: white;
    display: flex;
    flex-direction: column;
  }

  .stars {
    position: fixed;
    width: 100%;
    height: 100%;
    background: transparent;
    z-index: 0;
  }

  #music-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(12px);
    background: rgba(0,0,0,0.4);
    z-index: 0;
    opacity: 0;
    transition: opacity 0.8s ease;
  }

  header {
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0,0,0,0.3);
    padding: 10px;
    font-size: 18px;
    position: relative;
  }

  #top-controls {
    display: flex;
    gap: 5px;
  }

  select, button {
    padding: 5px 10px;
    border-radius: 6px;
    border: none;
    background: #77777788;
    color: white;
    cursor: pointer;
  }
  select { appearance: none; }

  #editor {
    flex: 1;
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 6px;
    background: rgba(0,0,0,0.5);
    color: white;
    font-family: monospace;
    resize: none;
  }

  #output-frame {
    flex: 1;
    width: 100%;
    border: none;
    border-radius: 6px;
    margin-top: 5px;
  }

  body > * { z-index: 1; }
</style>
</head>
<body>

<div class="stars"></div>
<div id="music-bg"></div>

<header>
  <div id="top-controls">
    <select id="lang-select" onchange="changeLanguage()">
      <option value="cs" selected>ƒåe≈°tina</option>
      <option value="en">English</option>
    </select>
    <button id="rest-btn" onclick="toggleRest()">‚è± Odpoƒçinek</button>
    <button id="music-btn" onclick="toggleMusic()">üéµ Lo-Fi R√°dio</button>
    <button id="run-btn" onclick="runCode()">‚ñ∂ Spustit</button>
  </div>
  <div id="title">üéß Vibe Coding ‚Äî chill programov√°n√≠</div>
</header>

<textarea id="editor" style="height:200px;">&lt;h1 style="color:white;"&gt;Hello Vibe!&lt;/h1&gt;
&lt;script&gt;console.log('Hello World');&lt;/script&gt;</textarea>

<iframe id="output-frame"></iframe>

<!-- YouTube Live Lo-Fi Stream -->
<iframe id="lofi-player" 
        width="0" height="0" 
        src="https://www.youtube.com/embed/5qap5aO4i9A?autoplay=1&loop=1&mute=0" 
        title="Lofi Hip Hop Radio" 
        allow="autoplay" frameborder="0"></iframe>

<script>
const texts = {
  cs: { title: "üéß Vibe Coding ‚Äî chill programov√°n√≠", run:"‚ñ∂ Spustit", rest:"‚è± Odpoƒçinek", music:"üéµ Lo-Fi R√°dio" },
  en: { title: "üéß Vibe Coding ‚Äî chill coding", run:"‚ñ∂ Run", rest:"‚è± Rest", music:"üéµ Lo-Fi Radio" }
};
let currentLang = "cs";

function changeLanguage(){
  currentLang = document.getElementById("lang-select").value;
  document.getElementById("title").innerText = texts[currentLang].title;
  document.getElementById("run-btn").innerText = texts[currentLang].run;
  document.getElementById("rest-btn").innerText = texts[currentLang].rest;
  document.getElementById("music-btn").innerText = texts[currentLang].music;
}

function runCode(){
  const code = document.getElementById("editor").value;
  const frame = document.getElementById("output-frame");
  frame.srcdoc = code;
}

let musicPlaying = false;
function toggleMusic(){
  const bg = document.getElementById("music-bg");
  const player = document.getElementById("lofi-player");
  musicPlaying = !musicPlaying;

  if(musicPlaying){
    bg.style.opacity = 1;           // –í–∫–ª—é—á–∞–µ–º –±–ª—é—Ä-—Ñ–æ–Ω
    player.width = 300;              // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–ª–µ–µ—Ä (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    player.height = 80;
  } else {
    bg.style.opacity = 0;           // –í—ã–∫–ª—é—á–∞–µ–º —Ñ–æ–Ω
    player.width = 0;               // –°–∫—Ä—ã–≤–∞–µ–º –ø–ª–µ–µ—Ä
    player.height = 0;
  }
}

let restActive = false;
function toggleRest(){
  restActive = !restActive;
  if(restActive){
    alert(currentLang==="cs"?"Odpoƒçinek zapnut":"Rest started");
  } else {
    alert(currentLang==="cs"?"Odpoƒçinek ukonƒçen":"Rest ended");
  }
}
</script>

</body>
</html>
